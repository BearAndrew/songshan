<div class="flex flex-col gap-4 w-full h-full">
  <div class="flex items-center gap-4">
    <div class="flex flex-col items-end justify-between h-full">
      <div class="grid grid-cols-3 gap-2 h-fit w-110">
        @for(button of data; track button.label; let i = $index) {
        <a
          class="text-xl text-white text-center rounded-md px-2 py-0.5 cursor-pointer"
          [ngClass]="{
            'bg-[#b2b2b2]': activeIndex !== i,
            'bg-gradient-to-r from-[#767df5] to-[#82a2fc]': activeIndex === i,
            'col-span-3': i === data.length - 1
          }"
          type="button"
          (click)="activeIndex = i"
          [routerLink]="button.routerLink"
        >
          {{ button.label }}
        </a>
        }
      </div>

      @if(activeIndex !== data.length - 1) {
      <div class="p-2 text-2xl text-[#04cdda]">資料更新時間：08:23</div>
      }
    </div>

    @if(activeIndex !== data.length - 1) {
    <div class="flex-1 grid grid-cols-4 gap-2 bg-black p-2 h-full">
      @for (group of locationGroups; track group.locationName) {

      <div class="relative bg-black">
        <!-- 左上：locationName -->
        <label
          class="absolute left-0 top-0 z-10 px-1 text-xs text-[#ccc] bg-black"
        >
          {{ group.locationName }}
        </label>

        <!-- 當前圖片 -->
        @if (getCurrentImage(group)) {
        <img
          class="w-full h-auto"
          [src]="'data:image/png;base64,' + getCurrentImage(group)"
          alt="camera"
        />
        }

        <!-- 左下角 icon -->
        <img
          class="absolute left-0 bottom-0 w-4 h-4"
          src="img/camera-icon.png"
          alt="camera-icon"
        />
      </div>

      }
    </div>
    }
  </div>

  <div class="flex-1 overflow-hidden">
    <router-outlet></router-outlet>
  </div>
</div>
