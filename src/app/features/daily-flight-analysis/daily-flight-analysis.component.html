<div class="flex flex-col gap-4 w-full h-full">
  <div class="flex gap-8 h-fit">
    @for(button of data; track button.label; let i = $index) {
    <button
      class="text-xl text-white rounded-md w-36 px-2 py-0.5 cursor-pointer"
      [ngClass]="{
        'bg-[#b2b2b2]': activeIndex !== i,
        'bg-gradient-to-r from-[#767df5] to-[#82a2fc]': activeIndex === i
      }"
      type="button"
      (click)="activeIndex = i"
    >
      {{ button.label }}
    </button>
    }
  </div>

  <div class="flex flex-1 gap-2 w-full h-full">
    <div class="flex flex-col flex-1 gap-2 min-w-0 h-full">
      <div class="flex gap-2 w-full">
        <!-- 航班狀況 -->
        <app-daily-flight-analysis-flight-card
          class="card flex flex-1 flex-col gap-2 p-4 min-w-0 h-full"
          [data]="data"
          [activeIndex]="activeIndex"
        ></app-daily-flight-analysis-flight-card>

        <!-- 延誤狀況 -->
        <app-daily-flight-analysis-delay-card
          class="card flex flex-col flex-1 gap-2 p-4 min-w-0 h-full"
          [data]="data"
          [activeIndex]="activeIndex"
        ></app-daily-flight-analysis-delay-card>
      </div>

      <!-- 航班延誤數據 -->
      <app-daily-flight-analysis-delay-pie-chart-card
        class="card flex flex-col flex-1 gap-2 p-4 min-w-0 h-fit"
      ></app-daily-flight-analysis-delay-pie-chart-card>
    </div>

    <div class="flex flex-col flex-1 gap-2 min-w-0 h-full">
      <!-- 異常航班資訊 -->
      <app-daily-flight-analysis-abnormal-card
        class="card flex flex-col flex-1 gap-2 p-4 w-full min-h-0"
        [activeIndex]="activeIndex"
        [data]="data"
      ></app-daily-flight-analysis-abnormal-card>
      <app-daily-flight-analysis-barline-chart-card
        class="card flex flex-col flex-1 gap-2 p-4 w-full min-h-0"
        [activeIndex]="activeIndex"
        [data]="data"
        [title]="'逐時出境統計'"
      ></app-daily-flight-analysis-barline-chart-card>
      <app-daily-flight-analysis-barline-chart-card
        class="card flex flex-col flex-1 gap-2 p-4 w-full min-h-0"
        [activeIndex]="activeIndex"
        [data]="data"
        [title]="'逐時入境統計'"
      ></app-daily-flight-analysis-barline-chart-card>
    </div>
  </div>
</div>
