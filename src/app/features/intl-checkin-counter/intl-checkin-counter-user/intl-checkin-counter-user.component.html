<div class="card flex gap-2 h-full p-4">
  <div class="flex-4 flex flex-col">
    <!-- 日期區間 -->
    <div class="text-sm font-semibold text-right">
      {{ currentWeekRange }}
    </div>

    <div class="flex-1 flex flex-col h-full bg-white">
      <!-- Header -->
      <div class="sticky top-0 z-10 grid grid-cols-7 bg-[#4a6eb6] border-b">
        @for (day of weekDays; track $index) {
        <div
          class="py-1 text-center font-semibold border-r-2 last:border-r-0 text-white"
        >
          {{ day }}
        </div>
        }
      </div>

      <!-- Content -->
      <div class="flex-1 overflow-y-auto grid grid-cols-7">
        @for (dayItems of currentWeek; track $index) {
        <div class="p-1 pt-8 border-r-2 last:border-r-0 even:bg-[#eef2f8]">
          @for (item of dayItems; track $index) {
          <div
            class="flex flex-col items-center gap-2 mb-2 rounded-xl bg-white p-2 pt-4 text-sm border-3 border-[#aba196]"
          >
            <div class="text-2xl text-[#008540] font-semibold leading-none">
              {{ item.flightNo }}
            </div>
            <div class="text-lg ">
              {{ item.time }}
            </div>
            <div
              class="text-xs bg-[#c8c8c8] text-center py-0.5 w-full rounded-sm"
            >
              {{ item.status }}
            </div>
          </div>
          }
        </div>
        }
      </div>
    </div>

    <!-- Paginator -->
    <div class="flex items-center justify-center gap-2 py-3 border-t">
      <!-- 左箭頭 -->
      <button
        class="w-8 h-8 rounded-full bg-[#00ace5] flex items-center justify-center cursor-pointer disabled:opacity-60"
        (click)="prevWeek()"
        [disabled]="currentWeekIndex === 0"
      >
        <span class="text-3xl -translate-y-0.5">‹</span>
      </button>

      <!-- 頁碼 -->
      @for (page of paginatorPages; track page) {
      <button
        class="w-8 h-8 rounded-full flex items-center justify-center text-sm cursor-pointer"
        [ngClass]="{
          'bg-[#b7b7b7] text-black': page === currentWeekIndex + 1,
          '': page !== currentWeekIndex + 1,
          'cursor-default': page === '...'
        }"
        (click)="page !== '...' && goToWeek(page - 1)"
        [disabled]="page === '...'"
      >
        {{ page }}
      </button>
      }

      <!-- 右箭頭 -->
      <button
        class="w-8 h-8 rounded-full bg-[#00ace5] flex items-center justify-center cursor-pointer disabled:opacity-60"
        (click)="nextWeek()"
        [disabled]="currentWeekIndex === weeks.length - 1"
      >
        <span class="text-3xl -translate-y-0.5">›</span>
      </button>
    </div>
  </div>


  <!-- 申請內容 -->
  <div class="flex-3 flex-shrink-0">
    <form class="p-4 rounded-lg space-y-4">

  <!-- Row 1：航班資訊 / 起飛時間 -->
  <div class="grid grid-cols-4 gap-4 items-center">
    <label class="font-semibold">航班資訊</label>
    <input
      type="text"
      class="border rounded px-2 py-1 col-span-1"
    />

    <label class="font-semibold text-right">起飛時間</label>
    <input
      type="text"
      class="border rounded px-2 py-1 col-span-1"
    />
  </div>

  <!-- Row 2：申請時間 -->
  <div class="grid grid-cols-4 gap-4 items-center">
    <label class="font-semibold">申請時間</label>
    <div class="col-span-3 flex items-center gap-2">
      <input type="text" class="border rounded px-2 py-1 w-24" />
      <span>-</span>
      <input type="text" class="border rounded px-2 py-1 w-24" />
    </div>
  </div>

  <!-- Row 3：島櫃 + checkbox -->
  <div class="grid grid-cols-4 gap-4 items-center">
    <label class="font-semibold">島櫃</label>

    <!-- 島櫃顯示 + 按鈕 -->
    <div class="flex items-center gap-2">
      <span class="text-sm ">目前無資料</span>
      <button
        type="button"
        class="px-3 py-1 bg-blue-500 text-white rounded"
        (click)="addIsland()"
      >
        新增
      </button>
    </div>

    <!-- Checkbox：只能選一 -->
    <div class="col-span-2 flex items-center gap-6">
      <label class="flex items-center gap-1">
        <input
          type="checkbox"
          [checked]="seasonType === 'all'"
          (change)="setSeasonType('all')"
        />
        整季
      </label>

      <label class="flex items-center gap-1">
        <input
          type="checkbox"
          [checked]="seasonType === 'other'"
          (change)="setSeasonType('other')"
        />
        其他
      </label>
    </div>
  </div>

  <!-- 新增的島櫃資料（可多筆） -->
  @for (item of islandList; track $index) {
    <div class="grid grid-cols-4 gap-4 items-center">
      <div></div>
      <div class="col-span-3 text-sm ">
        {{ item }}
      </div>
    </div>
  }

  <!-- 最後一 Row：申請日期 -->
  <div class="grid grid-cols-4 gap-4 items-start">
    <label class="font-semibold">申請日期</label>
    <div class="border rounded p-2">日期區塊</div>

    <!-- 佔滿兩格 -->
    <div class="col-span-2 border rounded p-2">
      日期區塊
    </div>
  </div>

</form>

  </div>
</div>
